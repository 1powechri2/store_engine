<div class="row">
  <div class="span3">
    <!-- consider: data-spy="affix" data-offset-top="200" -->
    <div class="main_col">
      <h2>Dashboard</h2>
      <ul class="nav nav-tabs nav-stacked">
        <li><a href="#invoices">Invoices</a></li>
        <li><a href="#products">Products Management</a></li>
      </ul>
    </div>
  </div>

  <div class="span9">
    <div id="invoices">
    </div>

    <div id="products">
      <h3>Product Management:</h3>
        <!-- Tabs by category -->
        <ul class="nav nav-tabs" id="productsTab">
          <% @categories.each do |category| %>
            <li><a href="#<%= category.name %>" data-toggle="tab"><%= category.name %></a></li>
          <% end %>
        </ul>

        <!-- Table bodies by category -->
        <div class="tab-content">
          <% @categories.each do |category| %>
            <div class="tab-pane" id="<%= category.name %>">
              <%= render :partial => 'product_table', :locals => { :products => category.products } %>
            </div>
          <% end %>
        </div>

        <%= link_to t('.new', :default => t("helpers.links.new")),
                new_product_path,
                :class => 'btn btn-primary' %>
    </div>
  </div>
</div>

<script>
  $(function () {
    $('#productsTab a:first').tab('show');
  })
</script>
